{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Pr\u00e1ctica 3.5: Despliegue de una aplicaci\u00f3n Flask (Python)","text":""},{"location":"#prerrequisitos","title":"Prerrequisitos","text":"<p>Para comenzar con la pr\u00e1ctica, es necesario tener instalado en el sistema los siguientes paquetes: - Nginx - Gunicorn - Pipenv</p>"},{"location":"#despliegue-de-la-aplicacion-de-prueba","title":"Despliegue de la aplicaci\u00f3n de prueba","text":"<p>Empezamos instalando pipenv:</p> <p></p> <p>Ahora debemos de cambiar los propietarios de la carpeta de la aplicaci\u00f3n:</p> <p></p> <p>As\u00ed como los permisos:</p> <p></p> <p>Creamos el archivo .env dentro de la carpeta de la aplicaci\u00f3n y a\u00f1adimos las variables de entorno necesarias:</p> <p></p> <p>Contenido del archivo .env:</p> <p></p> <p>Inicializamos el entorno virtual de la aplicaci\u00f3n:</p> <p></p> <p>Ahora instalamos las dependencias de la aplicaci\u00f3n:</p> <p></p> <p>Creamos los archivos app.py y wsgi.py:</p> <p></p> <p>Contenido del archivo wsgi.py:</p> <p></p> <p>Probamos la aplicaci\u00f3n:</p> <p></p> <p>Vemos que funciona:</p> <p></p> <p>Ahora comprobamos que gunicorn funciona correctamente:</p> <p></p> <p>Veremos cual es el path de gunicorn dado que lo necesitaremos para configurar systemd. Acto seguido saldremos del entorno virtual e iniciaremos nginx:</p> <p></p> <p>Iniciamos nginx:</p> <p></p> <p>Ahora creamos el archivo de configuraci\u00f3n para que systemd ejecute gunicorn:</p> <p></p> <p>Comprobamos que el servicio se ha creado correctamente:</p> <p></p> <p>Ahora configuramos nginx:</p> <p></p> <p>Activamos el servidor nginx con el enlace simb\u00f3lico:</p> <p></p> <p>Comprobamos que el servicio de nginx se ha creado correctamente:</p> <p></p> <p>Cambiamos el archivo /etc/host para que la direcci\u00f3n IP de la m\u00e1quina f\u00edsica apunte a la direcci\u00f3n IP de la m\u00e1quina virtual:</p> <p></p> <p>Y vemos que la aplicaci\u00f3n funciona correctamente:</p> <p></p>"},{"location":"#despliegue-de-la-aplicacion","title":"Despliegue de la aplicaci\u00f3n","text":"<p>Ahora debemos repetir todos los pasos anteriores pero con la aplicaci\u00f3n https://github.com/raul-profesor/Practica-3.5 . Por ello, ir\u00e9 un poco m\u00e1s r\u00e1pido.</p> <p>Despu\u00e9s de clonar el repositorio, creamos el archivo .env:</p> <p></p> <p>Le damos los permisos necesarios y cambiamos el propietario:</p> <p></p> <p>Inicializamos el entorno virtual:</p> <p></p> <p>Probamos la aplicaci\u00f3n:</p> <p></p> <p>Comprobamos que gunicorn funciona correctamente:</p> <p></p> <p>Creamos el archivo de configuraci\u00f3n para systemd:</p> <p></p> <p>El archivo de configuraci\u00f3n de nginx:</p> <p></p> <p>Habilitamos el servicio de nginx:</p> <p></p> <p>Hacemos el enlace simb\u00f3lico:</p> <p></p> <p>Volvemos a cambiar el archivo /etc/hosts:</p> <p></p> <p>Y comprobamos que la aplicaci\u00f3n funciona correctamente:</p> <p></p>"}]}